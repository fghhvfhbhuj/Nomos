# ğŸ“Š è‡ªé€‚åº”ä¿è¯é‡‘æ§åˆ¶ç¥¨æ® (Adaptive Margin-Control Note)

[![Stars](https://img.shields.io/github/stars/yourusername/structured-1400?style=social)](https://github.com/yourusername/structured-1400)
[![License](https://img.shields.io/badge/License-MIT-blue.svg)](LICENSE.md)
[![Status](https://img.shields.io/badge/Status-Active-success.svg)](https://github.com/yourusername/structured-1400)

<p align="center">
  <img src="./simulation_charts/payout_distribution.png" alt="æ”¶ç›Šåˆ†å¸ƒå›¾" width="70%">
</p>

## ğŸŒŸ é¡¹ç›®ç®€ä»‹

è‡ªé€‚åº”ä¿è¯é‡‘æ§åˆ¶ç¥¨æ® (AMCN) æ˜¯ä¸€ç§åˆ›æ–°å‹ç»“æ„åŒ–è¡ç”Ÿå“ï¼Œç»“åˆäº†è·¯å¾„ä¾èµ–ç‰¹æ€§ã€èµ„é‡‘æ± æœºåˆ¶å’ŒåŠ¨æ€ä¿è¯é‡‘æ§åˆ¶ç³»ç»Ÿï¼Œä¸ºæŠ•èµ„è€…æä¾›:

- ğŸ’¹ **ä¸Šè¡Œå¸‚åœºå‚ä¸**ï¼šä¿ç•™å¯¹å¸‚åœºä¸Šæ¶¨çš„æ˜¾è‘—å‚ä¸åº¦
- ğŸ›¡ï¸ **ä¸‹è¡Œé£é™©ç¼“å†²**ï¼šé€šè¿‡ç‹¬ç‰¹çš„èµ„é‡‘æ± æœºåˆ¶æä¾›é£é™©ä¿æŠ¤
- ğŸ”„ **è‡ªé€‚åº”é£é™©æ§åˆ¶**ï¼šæ ¹æ®å¸‚åœºèµ°åŠ¿è‡ªåŠ¨è°ƒæ•´é£é™©æ•å£
- ğŸ® **ç”¨æˆ·å¯æ§æœºåˆ¶**ï¼šæŠ•èµ„è€…å¯å¹²é¢„å’Œç®¡ç†é£é™©

è¯¥äº§å“ç‰¹åˆ«é€‚åˆé«˜æ³¢åŠ¨ç‡å¸‚åœºç¯å¢ƒï¼Œé€šè¿‡æ™ºèƒ½ç»“æ„è®¾è®¡åœ¨ä¿ç•™ä¸Šè¡Œæ”¶ç›Šæ½œåŠ›çš„åŒæ—¶ï¼Œæä¾›ä¸‹è¡Œé£é™©ç®¡ç†åŠŸèƒ½ã€‚

## ğŸ” æ ¸å¿ƒæœºåˆ¶

### æ•²å…¥ä¸æ”¶ç›Šå°é¡¶
å½“æ ‡çš„èµ„äº§å›æŠ¥ç‡è¶…è¿‡20%æ—¶ï¼Œè§¦å‘æ”¶ç›Šå°é¡¶æœºåˆ¶(30%)ï¼Œå°†è¶…é¢æ”¶ç›Šè½¬å…¥èµ„é‡‘æ± ã€‚

### èµ„é‡‘æ± ä¿æŠ¤
èµ„é‡‘æ± å­˜å‚¨è¶…é¢æ”¶ç›Šï¼Œåœ¨è´¦æˆ·æƒç›Šä¸‹è·Œæ—¶è‡ªåŠ¨æˆ–æŒ‰ç”¨æˆ·è¦æ±‚è¿›è¡Œè¡¥ä»“ï¼Œé˜²æ­¢å¼ºåˆ¶å¹³ä»“ã€‚

### ä¿è¯é‡‘æ§åˆ¶ç³»ç»Ÿ
è®¾ç½®åˆå§‹ä¿è¯é‡‘(10%)å’Œç»´æŒä¿è¯é‡‘(5%)ï¼Œå½“æƒç›Šä½äºç»´æŒçº¿ä¸”èµ„é‡‘æ± è€—å°½æ—¶è§¦å‘æ•²å‡ºã€‚

<details>
<summary><b>æŸ¥çœ‹è¯¦ç»†äº§å“ç»“æ„å›¾</b></summary>
<p align="center">
  <img src="./simulation_charts/scenario1_price_path.png" alt="äº§å“ç»“æ„ç¤ºä¾‹" width="80%">
</p>
</details>

## ğŸ“ˆ æ¨¡æ‹Ÿç»“æœ

ä½¿ç”¨é«˜çº§è’™ç‰¹å¡æ´›æ¨¡æ‹Ÿï¼ˆ10,000è·¯å¾„ï¼ŒåŒ…å«è·³è·ƒæ‰©æ•£ä¸éšæœºæ³¢åŠ¨ç‡ï¼‰çš„ä¸»è¦å‘ç°:

| æŒ‡æ ‡ | æ•°å€¼ |
|------|------|
| ç†è®ºç¥¨æ®ä»·å€¼ | Â¥-1.38 |
| åˆå§‹æœ¬é‡‘ | Â¥100.00 |
| æ”¶ç›Šå°é¡¶ | 30% |
| æ•²å…¥é˜ˆå€¼ | 20% |
| ç»´æŒä¿è¯é‡‘çº¿ | 5% |
| 95% é£é™©ä»·å€¼(VaR) | -32.38 |
| 99% é£é™©ä»·å€¼(VaR) | -42.74 |
| æ¡ä»¶é£é™©ä»·å€¼(CVaR) | -38.78 |
| å¹³å‡æœ€å¤§å›æ’¤ | 27.64% |
| æ•²å…¥æ¦‚ç‡ | 33.43% |
| å¼ºå¹³æ¦‚ç‡ | 0% |

### æ€§èƒ½äº®ç‚¹

- åœ¨å¸‚åœºæ¸©å’Œä¸Šæ¶¨ç¯å¢ƒä¸­æä¾›ç¨³å®šæ”¶ç›Š
- åœ¨é«˜æ³¢åŠ¨å¸‚åœºä¸­æ˜¾è‘—é™ä½æç«¯äºæŸé£é™©
- èµ„é‡‘æ± æœºåˆ¶æœ‰æ•ˆç¼“å†²å¸‚åœºçªå˜å†²å‡»
- éšæœºæ³¢åŠ¨ç‡æ¨¡å‹æ›´å‡†ç¡®åæ˜ çœŸå®å¸‚åœºæ¡ä»¶
- ä¸ºæŠ•èµ„è€…æä¾›å¹²é¢„å’Œè°ƒæ•´çš„çµæ´»æ€§

## ğŸ“š é¡¹ç›®æ–‡æ¡£

- [ğŸ“„ **æ¡æ¬¾è¯´æ˜ä¹¦ (Term Sheet)**](./term-sheet.md)ï¼šå®Œæ•´äº§å“æ¡æ¬¾ä¸è§„æ ¼
- [ğŸ“‹ **ç™½çš®ä¹¦ (Whitepaper)**](./whitepaper.md)ï¼šè¯¦ç»†çš„äº§å“è®¾è®¡ç†å¿µä¸æœºåˆ¶
- [âš ï¸ **é£é™©æ­ç¤ºè¯´æ˜**](./risk-disclosure.md)ï¼šäº§å“é£é™©ç‚¹ä¸é€‚ç”¨æ€§è¯´æ˜
- [ğŸ“Š **æƒ…æ™¯ç¤ºä¾‹**](./scenario-examples.md)ï¼šä¸åŒå¸‚åœºç¯å¢ƒä¸‹çš„äº§å“è¡¨ç°

## ğŸ’» æŠ€æœ¯å®ç°

è¯¥é¡¹ç›®ä½¿ç”¨Pythonå®ç°ï¼Œæ ¸å¿ƒæŠ€æœ¯åŒ…æ‹¬:

```python
# æ ¸å¿ƒå®šä»·é€»è¾‘ç¤ºä¾‹
for i in tqdm(range(n_paths)):
    prices = [S0]
    volatilities = [sigma_base]
    current_sigma = sigma_base
    pool = 0
    knocked_in = False
    
    for t in range(N):
        # æ›´æ–°éšæœºæ³¢åŠ¨ç‡ (Heston-like)
        vol_shock = np.random.normal(0, 1)
        current_sigma = max(0.05, current_sigma + vol_mean_reversion * (vol_long_run_mean - current_sigma) * dt + 
                        vol_vol * np.sqrt(current_sigma * dt) * vol_shock)
        
        # ä»·æ ¼æ‰©æ•£ä¸è·³è·ƒ
        z = np.random.normal()
        dS_diffusion = prices[-1] * (mu * dt + current_sigma * np.sqrt(dt) * z)
        
        jump_occurs = np.random.poisson(jump_intensity * dt)
        dS_jump = 0
        if jump_occurs > 0:
            jump_size = np.random.normal(jump_mean, jump_std, jump_occurs)
            dS_jump = prices[-1] * np.sum(jump_size)
        
        # ...æ•²å…¥åˆ¤æ–­ä¸é£é™©æ§åˆ¶é€»è¾‘...
```

å®Œæ•´ä»£ç è¯¦è§ [pricing_model.py](./pricing_model.py)

## ğŸš€ å¦‚ä½•ä½¿ç”¨

1. **å…‹éš†ä»“åº“**
   ```bash
   git clone https://github.com/yourusername/structured-1400.git
   cd structured-1400/Day001-Adaptive-Margin-Control-Note
   ```

2. **å®‰è£…ä¾èµ–**
   ```bash
   pip install numpy matplotlib pandas tqdm
   ```

3. **è¿è¡Œæ¨¡æ‹Ÿ**
   ```bash
   python pricing_model.py
   ```

4. **æŸ¥çœ‹ç»“æœ**
   - æ¨¡æ‹Ÿå›¾è¡¨å°†ä¿å­˜åœ¨ `simulation_charts/` ç›®å½•
   - å®šä»·ç»“æœå°†ä¿å­˜ä¸º `pricing_result.csv`

## ğŸ”— ç›¸å…³èµ„æº

- [ç»“æ„åŒ–äº§å“è®¾è®¡ç³»åˆ—](https://github.com/yourusername/structured-1400)
- [é‡‘èè¡ç”Ÿå“è®¾è®¡æŒ‡å—](https://github.com/yourusername/structured-1400)
- [é‡åŒ–é‡‘èå·¥å…·é›†](https://github.com/yourusername/structured-1400)

## ğŸ‘¨â€ğŸ’¼ ä½œè€…

è¯¥é¡¹ç›®æ˜¯ç»“æ„åŒ–è¡ç”Ÿå“è®¾è®¡ç³»åˆ—çš„ä¸€éƒ¨åˆ†ï¼Œæ—¨åœ¨å±•ç¤ºç°ä»£é‡‘èå·¥ç¨‹çš„åˆ›æ–°åº”ç”¨ã€‚æ¬¢è¿ç”¨äº:

- ğŸ“ è¡ç”Ÿå“æ•™å­¦ä¸å­¦ä¹ 
- ğŸ“ é‡‘èå·¥ç¨‹æ¡ˆä¾‹ç ”ç©¶
- ğŸ’¼ é¢è¯•ä½œå“é›†å±•ç¤º
- ğŸ§ª ç»“æ„åŒ–äº§å“è®¾è®¡å®éªŒ

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT è®¸å¯è¯](./LICENSE.md)ã€‚æ‚¨å¯ä»¥è‡ªç”±ä½¿ç”¨ã€ä¿®æ”¹å’Œåˆ†å‘æœ¬ä»£ç ï¼Œä½†è¯·ä¿ç•™åŸä½œè€…ç½²åã€‚

---

<p align="center">
  <i>è¿™æ˜¯ structured-1400 ç»“æ„åŒ–è¡ç”Ÿå“è®¾è®¡ç³»åˆ—çš„ä¸€éƒ¨åˆ†</i><br>
  <a href="https://github.com/yourusername/structured-1400">æ¢ç´¢æ›´å¤šåˆ›æ–°é‡‘èç»“æ„ â†’</a>
</p>
