# Credit-Triggered Redemption Note

## 📘 项目简介

本项目为 Structured-1400 系列中第 002 号结构产品，设计目标是创建一个**基于信用事件触发的自动赔付型结构票据**，以教学化、可定制、可视化的方式展示结构化金融产品从逻辑设计到定价建模的完整流程。

该项目采用模块化设计，支持敏感性分析和专业级报告生成，适用于金融工程教学、研究和实际产品开发。

---

## 📌 核心结构逻辑

* 客户购买结构票据后进入**观察期**（默认15日），在此期间不计收益，但资金将于结构未敲出时获得**贴现补偿金**（利息年化贴现）
* 若观察期后未触发敲出，结构转入主收益路径，最终收回本金与约定收益（含观察期补偿）
* 若在任意时点触发**风控敲出机制**，则立即终止并向用户支付：

$$
\text{贴现后的未来现金流} + \text{信用风险溢价（保费）}
$$

**最新模型计算结果：**
- 正常路径价值: ¥104,816.22
- 观察期补偿: ¥205.69  
- 敲出赔付价值: ¥109,816.22

---

## 🧠 教学目标

本项目面向衍生品结构设计方向学习者，涵盖以下目标：

* 学习如何构建路径触发型结构产品逻辑（观察期+风控敲出+赔付结构）
* 理解如何在合约中嵌入**风险管理逻辑**与"反套利设计"
* 演示如何使用 Python 编写结构票据的**定价模型与概率敏感分析**
* 提供可插拔的风控打分函数模板，供用户自定义触发机制
* 展示专业级金融建模和报告生成能力

---

## 🗂 文件说明

### 核心文档
* `README.md`：项目总览和使用说明
* `term-sheet.md`：结构条款说明书（正式合约语言表达）
* `whitepaper.md`：设计原理白皮书，包含结构逻辑、模型设计、可替换函数结构
* `scenario-example.md`：示例场景说明：正常到期 / 风控敲出路径

### 代码文件  
* `pricing_model.py`：**核心定价模型**，包含模块化参数设定、敏感性分析、专业可视化
* `risk_score_func_demo.py`：增强版信用打分函数，支持机器学习和异常检测

### 输出文件
* `ctn_pricing_visualization.png`：**高质量可视化图表**（敲出概率vs期望价值关系）
* `pricing_report.html`：**专业分析报告**，包含详细统计、风险分析和投资建议
* `pricing_model.log`：运行日志，记录所有计算过程和结果

---

## 🚀 快速开始

### 运行定价模型
```bash
python pricing_model.py
```

### 模型特性
- ✅ **模块化设计**：参数可灵活配置
- ✅ **敏感性分析**：自动分析关键参数影响
- ✅ **专业可视化**：高质量图表生成
- ✅ **详细报告**：HTML格式专业分析报告
- ✅ **日志记录**：完整的运行过程追踪

---

## 🧩 项目定位与使用

该产品用于教学、研究与结构建模演示，特别适合：

- **金融工程专业**学生的课程项目和毕业设计
- **量化金融**研究人员的产品原型开发
- **结构化产品**设计团队的概念验证
- **风险管理**部门的压力测试和情景分析

实际使用时建议结合实际风险引擎、监管规则及法务体系定制部署。

---

## 📊 技术亮点

* **数学建模**：基于随机过程和概率论的严谨定价框架
* **风险控制**：多层次风险管理机制（观察期+敲出+封顶）
* **可视化分析**：专业级图表和交互式报告
* **代码质量**：模块化、可扩展、文档完整的Python实现

---

> 本项目为 Structured-1400 系列 · Day002 结构票据作品  
> 构造人：用户 / GitHub Copilot  
> 类型：结构票据 · 信用触发 · 风控熔断型  
> 适用场景：教学研究 · 产品原型 · 风险建模
